org 100h
jmp start
mes0 db &#39; String: $&#39;
counter db 0
old16h dw 0,0 ; ?????? 16
start: push es ;
mov ax,3516h ; ...????????? ???
int 21h ;
mov [old16h],bx ;
mov [old16h+2],es ;
pop es ;
mov ah,9 ; ?????? ?? ???? ??????
mov dx,mes0 ;
int 21h ;
xor si, si
new16h: xor ax,ax ; ??????? ????
pushf ;
call dword [old16h] ; ????? INT-16h
cmp al,13 ; Enter - ?????..
je exit ;
cmp si, 1
je function
inc si
output:
mov dl, al
mov ah, 2
int 21h
mov al,7 ; ?????? ??????? ;
jmp new16h ; ?? ??????..
function:
xor si, si
dec al
jmp output
exit: int 20h ; ?????